package vn.DA_KNNN.View;

import javax.swing.*;

import vn.DA_KNNN.Controller.LayoutController;
import vn.DA_KNNN.Controller.MainController;

import java.awt.*;

public class LayoutView extends JFrame {
	/**
	 * 
	 */
	private static final long serialVersionUID = 1L;
	private JPanel contentPanel; // Panel chính để thay đổi giao diện
	private JButton btnHome;
	private JButton btnCategory;
	private JButton btnBook;
	private JButton btnCustomer;
	private JButton btnSale;
	private JButton btnEmployee;
	private JButton btnRevenue;
	private JPanel panel, buttonPanel;
	private JButton btnLogout;

	public JPanel getContentPanel() {
		return contentPanel;
	}

	public JButton getBtnHome() {
		return btnHome;
	}

	public JButton getBtnCategory() {
		return btnCategory;
	}

	public JButton getBtnBook() {
		return btnBook;
	}

	public JButton getBtnSale() {
		return btnSale;
	}

	public JButton getBtnCustomer() {
		return btnCustomer;
	}

	public JButton getBtnEmployee() {
		return btnEmployee;
	}

	public JButton getBtnRevenue() {
		return btnRevenue;
	}

	public JButton getBtnLogout() {
		return btnLogout;
	}

	public JPanel getMenuButton() {
		return this.buttonPanel;
	}

	public LayoutView() {
		try {
			UIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());
		} catch (Exception e) {
			e.printStackTrace();
		}

		ImageIcon icon = new ImageIcon(getClass().getResource("/images/imgIcon.jpeg"));
		setIconImage(icon.getImage());
		setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
		setTitle("Đăng nhập");
		setSize(1000, 600);
		setMinimumSize(new Dimension(1000, 600)); // Đặt kích thước tối thiểu

		getContentPane().setLayout(new BorderLayout());
		// Tạo sidebar
		JPanel sidebar = createSidebar();
		getContentPane().add(sidebar, BorderLayout.WEST);

		// Tạo panel chính
		contentPanel = new JPanel(new BorderLayout());
		contentPanel.setBackground(Color.WHITE); // Màu nền mặc định
		getContentPane().add(contentPanel, BorderLayout.CENTER);

		MainView view = new MainView();
		new MainController(view);
		showContent(view);

	}

	private JPanel createSidebar() {
		JPanel sidebar = new JPanel();
		sidebar.setLayout(new BorderLayout());
		sidebar.setPreferredSize(new Dimension(200, 0)); // Đặt chiều rộng cố định cho sidebar
		sidebar.setBackground(new Color(60, 63, 65)); // Màu nền sidebar

		// Tiêu đề
		JLabel titleLabel = new JLabel("QKT", SwingConstants.CENTER);
		titleLabel.setFont(new Font("Tahoma", Font.BOLD, 36));
		titleLabel.setForeground(Color.WHITE);
		titleLabel.setPreferredSize(new Dimension(WIDTH, 100));
		sidebar.add(titleLabel, BorderLayout.NORTH);

		// Nút menu
		JPanel buttonPanel = createMenuButtons();
		sidebar.add(buttonPanel, BorderLayout.CENTER);

		panel = new JPanel();
		sidebar.add(panel, BorderLayout.SOUTH);
		panel.setLayout(new BorderLayout(0, 0));

		btnLogout = new JButton("Đăng xuất");
		btnLogout.setBackground(Color.RED);
		btnLogout.setOpaque(true);
		btnLogout.setBorderPainted(false);
		btnLogout.setPreferredSize(new Dimension(WIDTH, 50));
		btnLogout.setFont(new Font("Tahoma", Font.PLAIN, 20));
		panel.add(btnLogout);

		return sidebar;
	}

	private JPanel createMenuButtons() {
		buttonPanel = new JPanel(new GridLayout(10, 1, 0, 0));
		buttonPanel.setBackground(new Color(60, 63, 65)); // Màu nền của panel

		// Tạo các nút
		btnHome = createButton("Home");
		btnBook = createButton("Book");
		btnSale = createButton("Sale");
		btnCustomer = createButton("Customer");
		btnEmployee = createButton("Employee");
		btnRevenue = createButton("Revenue");

		// Thêm các nút vào buttonPanel

		buttonPanel.add(btnHome);
		buttonPanel.add(btnBook);
		buttonPanel.add(btnSale);
		buttonPanel.add(btnCustomer);
		buttonPanel.add(btnEmployee);
		buttonPanel.add(btnRevenue);

		return buttonPanel;
	}

	private JButton createButton(String text) {
		JButton button = new JButton(text);
		button.setFont(new Font("Tahoma", Font.PLAIN, 20));

		// Đặt màu nền cho nút
		button.setBorder(BorderFactory.createLineBorder(Color.BLACK, 2));
		button.setBackground(new Color(100, 100, 100)); // Màu nền xám cho nút
		button.setOpaque(true); // Đảm bảo màu nền được áp dụng
		button.setForeground(Color.WHITE); // Màu chữ trắng
		button.setBorderPainted(false); // Tắt viền của nút
		return button;
	}

	// Hiển thị nội dung dựa trên tên
	public void showContent(JPanel content) {
		contentPanel.removeAll(); // Xóa nội dung cũ
		contentPanel.add(content, BorderLayout.CENTER);
		revalidate();
		repaint();
	}

	public static void main(String[] args) {
		LayoutView view = new LayoutView();
		new LayoutController(view);
		view.setVisible(true);
	}
}

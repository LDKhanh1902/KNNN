package vn.DA_KNNN.View;

import javax.swing.*;
import vn.DA_KNNN.Components.PieChart;
import vn.DA_KNNN.Components.ColumnChart;
import java.awt.*;

public class MainView extends JPanel {
    private static final long serialVersionUID = 1L;

    public MainView() {
        setLayout(new BorderLayout());
        setBackground(Color.WHITE);

        // **2Ô∏è‚É£ Main Content - N·ªôi dung ch√≠nh**
        JPanel mainContent = new JPanel(new BorderLayout(10, 10));
        add(mainContent, BorderLayout.CENTER);

        // **3Ô∏è‚É£ Header (Tr√™n c√πng)**
        JPanel headerPanel = createHeader();
        mainContent.add(headerPanel, BorderLayout.NORTH);

        // **4Ô∏è‚É£ Th√¥ng tin t·ªïng quan**
        JPanel infoPanel = createInfoCards();
        mainContent.add(infoPanel, BorderLayout.CENTER);

        // **5Ô∏è‚É£ Khu v·ª±c bi·ªÉu ƒë·ªì**
        JPanel chartPanel = createChartPanel();
        mainContent.add(chartPanel, BorderLayout.SOUTH);

        // **6Ô∏è‚É£ Footer**
        JPanel footerPanel = createFooter();
        add(footerPanel, BorderLayout.SOUTH);
    }
    /**
     * **Header - Th√¥ng tin User v√† Doanh thu**
     */
    private JPanel createHeader() {
        JPanel headerPanel = new JPanel(new BorderLayout(10, 10));
        headerPanel.setBackground(new Color(30, 144, 255));
        headerPanel.setPreferredSize(new Dimension(getWidth(), 60));

        JLabel title = new JLabel("üìö H·ªá th·ªëng Qu·∫£n l√Ω B√°n S√°ch", SwingConstants.LEFT);
        title.setForeground(Color.WHITE);
        title.setFont(new Font("Tahoma", Font.BOLD, 18));
        headerPanel.add(title, BorderLayout.WEST);

        JLabel userInfo = new JLabel("üë§ Xin ch√†o, Nguy·ªÖn VƒÉn A", SwingConstants.RIGHT);
        userInfo.setForeground(Color.WHITE);
        userInfo.setFont(new Font("Tahoma", Font.PLAIN, 14));
        headerPanel.add(userInfo, BorderLayout.EAST);

        return headerPanel;
    }

    /**
     * **Th√¥ng tin T·ªïng quan**
     */
    private JPanel createInfoCards() {
        JPanel infoPanel = new JPanel(new GridBagLayout());
        infoPanel.setBorder(BorderFactory.createEmptyBorder(10, 10, 10, 10));

        GridBagConstraints gbc = new GridBagConstraints();
        gbc.fill = GridBagConstraints.BOTH;
        gbc.weightx = 1.0;
        gbc.weighty = 1.0;
        gbc.insets = new Insets(5, 5, 5, 5);
        
        gbc.gridx = 0; gbc.gridy = 0;
        infoPanel.add(createInfoCard("üìö S·ªë l∆∞·ª£ng s√°ch: 120"), gbc);

        gbc.gridx = 1;
        infoPanel.add(createInfoCard("üë• S·ªë nh√¢n vi√™n: 10"), gbc);

        gbc.gridx = 2;
        infoPanel.add(createInfoCard("üõçÔ∏è S·ªë kh√°ch h√†ng: 250"), gbc);

        gbc.gridx = 3;
        infoPanel.add(createInfoCard("üí∞ T·ªïng doanh thu: 5.000.000 VNƒê"), gbc);

        return infoPanel;
    }




    private JPanel createInfoCard(String text) {
        JPanel card = new JPanel(new BorderLayout());
        card.setBorder(BorderFactory.createLineBorder(Color.BLACK, 1));
        card.setBackground(Color.WHITE);
        card.setPreferredSize(new Dimension(100, 50));

        JLabel label = new JLabel(text, SwingConstants.CENTER);
        label.setFont(new Font("Tahoma", Font.PLAIN, 14));
        card.add(label, BorderLayout.CENTER);

        return card;
    }

    /**
     * **Khu v·ª±c Bi·ªÉu ƒë·ªì**
     */
    private JPanel createChartPanel() {
        JPanel chartPanel = new JPanel(new GridLayout(1, 2, 10, 10));
        chartPanel.setBorder(BorderFactory.createEmptyBorder(10, 10, 10, 10));

        PieChart pieChart = new PieChart(); // Bi·ªÉu ƒë·ªì lo·∫°i s√°ch b√°n ch·∫°y
        ColumnChart columnChart = new ColumnChart(); // Bi·ªÉu ƒë·ªì doanh thu theo th√°ng

        chartPanel.add(pieChart);
        chartPanel.add(columnChart);

        return chartPanel;
    }

    /**
     * **Footer**
     */
    private JPanel createFooter() {
        JPanel footerPanel = new JPanel(new FlowLayout(FlowLayout.CENTER, 10, 10));
        footerPanel.setPreferredSize(new Dimension(getWidth(), 40));
        footerPanel.setBackground(new Color(70, 70, 70));

        JLabel footerLabel = new JLabel("¬© 2025 H·ªá th·ªëng Qu·∫£n l√Ω B√°n S√°ch - Nh√≥m 8");
        footerLabel.setForeground(Color.WHITE);
        footerPanel.add(footerLabel);

        return footerPanel;
    }

    /**
     * **Ch·∫°y ·ª©ng d·ª•ng**
     */
    public static void main(String[] args) {
        JFrame frame = new JFrame("H·ªá th·ªëng Qu·∫£n l√Ω B√°n S√°ch");
        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
        frame.setSize(1200, 700);
        frame.add(new MainView());
        frame.setLocationRelativeTo(null);
        frame.setVisible(true);
    }
}

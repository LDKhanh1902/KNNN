package vn.DA_KNNN.View;

import javax.swing.*;
import javax.swing.border.TitledBorder;
import javax.swing.table.DefaultTableCellRenderer;
import javax.swing.table.DefaultTableModel;

import vn.DA_KNNN.Components.AppHelper;

import java.awt.*;

public class EmployeeView extends JPanel {
	private static final long serialVersionUID = 1L;

	private JLabel lblEmployeeId, lblFirstName, lblLastName, lblBirthDate, lblHireDate, lblEmail, lblPhoneNumber,
			lblAddress, lblPositionId;
	private JTextField txtFirstName, txtLastName, txtBirthDate, txtHireDate, txtEmail, txtPhoneNumber, txtAddress,
			txtEmployeeId, txtFind;
	private JButton btnAdd, btnEdit, btnDelete, btnFind, btnCreateId;
	private JComboBox<String> cmbPositionName;
	private JTable table;
	private DefaultTableModel data;
	private JPanel panelFind, panelEmployeeId;
	private JButton btnExport;

	public EmployeeView() {
		setLayout(new BorderLayout(10, 10));

		// Tạo panel chính chứa Thông tin nhân viên và Chức năng
		JPanel topPanel = new JPanel(new BorderLayout(10, 10));
		topPanel.setBackground(Color.WHITE);

		// Thêm panel Thông tin nhân viên
		JPanel employeeInfoPanel = createEmployeeInfoPanel();
		topPanel.add(employeeInfoPanel, BorderLayout.CENTER);
		// Thêm panel Chức năng
		JPanel functionPanel = createFunctionPanel();
		topPanel.add(functionPanel, BorderLayout.EAST);

		add(topPanel, BorderLayout.NORTH);

		panelFind = new JPanel();
		panelFind.setBackground(Color.WHITE);
		topPanel.add(panelFind, BorderLayout.SOUTH);
		panelFind.setLayout(new BoxLayout(panelFind, BoxLayout.X_AXIS));

		txtFind = new JTextField();
		panelFind.add(txtFind);
		txtFind.setColumns(10);

		btnFind = new JButton("Tìm kiếm",AppHelper.setSizeImage("/images/search.png",30,30));
		btnFind.setHorizontalAlignment(SwingConstants.LEFT);
		btnFind.setForeground(Color.WHITE);
		btnFind.setFont(new Font("Tahoma", Font.BOLD, 17));
		btnFind.setBackground(new Color(33, 150, 243));
		btnFind.setOpaque(true);
		btnFind.setBorderPainted(false);
		panelFind.add(btnFind);

		// Tạo panel Bảng hiển thị nhân viên
		JPanel tablePanel = createTablePanel();
		add(tablePanel, BorderLayout.CENTER);
	}

	private JPanel createEmployeeInfoPanel() {
		JPanel employeeInfoPanel = new JPanel(new GridLayout(5, 2, 10, 10));
		employeeInfoPanel.setBackground(Color.WHITE);
		employeeInfoPanel.setBorder(
				BorderFactory.createTitledBorder(BorderFactory.createLineBorder(Color.BLACK), "Thông tin nhân viên",
						TitledBorder.LEFT, TitledBorder.TOP, new Font("Tahoma", Font.BOLD, 14), Color.BLACK));

		lblEmployeeId = new JLabel("Mã nhân viên:");
		lblEmployeeId.setFont(new Font("Tahoma", Font.PLAIN, 16));
		lblFirstName = new JLabel("Họ:");
		lblFirstName.setFont(new Font("Tahoma", Font.PLAIN, 16));
		txtFirstName = new JTextField(10);
		txtFirstName.setFont(new Font("Tahoma", Font.PLAIN, 20));
		lblLastName = new JLabel("Tên:");
		lblLastName.setFont(new Font("Tahoma", Font.PLAIN, 16));
		txtLastName = new JTextField(10);
		txtLastName.setFont(new Font("Tahoma", Font.PLAIN, 20));
		lblBirthDate = new JLabel("Ngày sinh:");
		lblBirthDate.setFont(new Font("Tahoma", Font.PLAIN, 16));
		txtBirthDate = new JTextField(10);
		txtBirthDate.setFont(new Font("Tahoma", Font.PLAIN, 20));
		lblHireDate = new JLabel("Ngày thuê:");
		lblHireDate.setFont(new Font("Tahoma", Font.PLAIN, 16));
		txtHireDate = new JTextField(10);
		txtHireDate.setFont(new Font("Tahoma", Font.PLAIN, 20));
		lblEmail = new JLabel("Email:");
		lblEmail.setFont(new Font("Tahoma", Font.PLAIN, 16));
		txtEmail = new JTextField(10);
		txtEmail.setFont(new Font("Tahoma", Font.PLAIN, 20));
		lblPhoneNumber = new JLabel("Số điện thoại:");
		lblPhoneNumber.setFont(new Font("Tahoma", Font.PLAIN, 16));
		txtPhoneNumber = new JTextField(10);
		txtPhoneNumber.setFont(new Font("Tahoma", Font.PLAIN, 20));
		lblAddress = new JLabel("Địa chỉ:");
		lblAddress.setFont(new Font("Tahoma", Font.PLAIN, 16));
		txtAddress = new JTextField(10);
		txtAddress.setFont(new Font("Tahoma", Font.PLAIN, 20));
		lblPositionId = new JLabel("Chức vụ:");
		lblPositionId.setFont(new Font("Tahoma", Font.PLAIN, 16));
		cmbPositionName = new JComboBox<String>();
		cmbPositionName.setFont(new Font("Tahoma", Font.PLAIN, 20));

		employeeInfoPanel.add(lblEmployeeId);

		panelEmployeeId = new JPanel();
		employeeInfoPanel.add(panelEmployeeId);
		panelEmployeeId.setLayout(new BoxLayout(panelEmployeeId, BoxLayout.X_AXIS));

		txtEmployeeId = new JTextField();
		txtEmployeeId.setFont(new Font("Tahoma", Font.PLAIN, 20));
		panelEmployeeId.add(txtEmployeeId);
		txtEmployeeId.setColumns(10);

		btnCreateId = new JButton("Tạo");
		btnCreateId.setFont(new Font("Tahoma", Font.PLAIN, 20));
		panelEmployeeId.add(btnCreateId);
		employeeInfoPanel.add(lblFirstName);
		employeeInfoPanel.add(txtFirstName);
		employeeInfoPanel.add(lblLastName);
		employeeInfoPanel.add(txtLastName);
		employeeInfoPanel.add(lblBirthDate);
		employeeInfoPanel.add(txtBirthDate);
		employeeInfoPanel.add(lblHireDate);
		employeeInfoPanel.add(txtHireDate);
		employeeInfoPanel.add(lblEmail);
		employeeInfoPanel.add(txtEmail);
		employeeInfoPanel.add(lblPhoneNumber);
		employeeInfoPanel.add(txtPhoneNumber);
		employeeInfoPanel.add(lblAddress);
		employeeInfoPanel.add(txtAddress);
		employeeInfoPanel.add(lblPositionId);
		employeeInfoPanel.add(cmbPositionName);

		return employeeInfoPanel;
	}

	private JPanel createFunctionPanel() {
		JPanel functionPanel = new JPanel();
		functionPanel.setBackground(Color.WHITE);
		functionPanel.setBorder(BorderFactory.createTitledBorder(BorderFactory.createLineBorder(Color.BLACK),
				"Chức năng", TitledBorder.LEFT, TitledBorder.TOP, new Font("Tahoma", Font.BOLD, 14), Color.BLACK));

		functionPanel.setPreferredSize(new Dimension(145, 0));
		functionPanel.setLayout(new GridLayout(4, 1, 5, 5));

		btnAdd = new JButton("Thêm",AppHelper.setSizeImage("/images/add.png",40,40));
		btnAdd.setHorizontalAlignment(SwingConstants.LEFT);
		btnAdd.setFont(new Font("Tahoma", Font.BOLD, 16));
		btnAdd.setBackground(new Color(139, 195, 74));
		btnAdd.setOpaque(true);
		btnAdd.setBorderPainted(false);
		
		btnEdit = new JButton("Sửa",AppHelper.setSizeImage("/images/edit.png",40,40));
		btnEdit.setHorizontalAlignment(SwingConstants.LEFT);
		btnEdit.setFont(new Font("Tahoma", Font.BOLD, 16));
		btnEdit.setBackground(new Color(255, 159, 64));
		btnEdit.setOpaque(true);
		btnEdit.setBorderPainted(false);
		
		btnDelete = new JButton("Xóa",AppHelper.setSizeImage("/images/delete.png",40,40));
		btnDelete.setHorizontalAlignment(SwingConstants.LEFT);
		btnDelete.setFont(new Font("Tahoma", Font.BOLD, 16));
		btnDelete.setBackground(new Color(244, 67, 54));
		btnDelete.setOpaque(true);
		btnDelete.setBorderPainted(false);

		functionPanel.add(btnAdd);
		functionPanel.add(btnEdit);
		functionPanel.add(btnDelete);

		btnExport = new JButton("Export", AppHelper.setSizeImage("/images/export.png",40,40));
		btnExport.setHorizontalAlignment(SwingConstants.LEFT);
		btnExport.setFont(new Font("Tahoma", Font.PLAIN, 16));
		btnExport.setBackground(new Color(158, 158, 158));
		btnExport.setOpaque(true);
		btnExport.setBorderPainted(false);
		
		functionPanel.add(btnExport);

		return functionPanel;
	}

	private JPanel createTablePanel() {
		JPanel tablePanel = new JPanel(new BorderLayout());
		tablePanel.setBackground(Color.WHITE);
		tablePanel.setBorder(BorderFactory.createLineBorder(Color.BLACK));
		Object[][] sampleData = {};
		// Tạo bảng dữ liệu
		String[] data = new String[] { "Mã nhân viên", "Họ", "Tên", "Ngày sinh", "Ngày thuê", "Email", "Số điện thoại",
				"Địa chỉ", "Chức vụ" };
		table = new JTable(new DefaultTableModel(sampleData, data));

		DefaultTableCellRenderer headerRenderer = new DefaultTableCellRenderer();
		headerRenderer.setFont(new Font("Tahoma", Font.BOLD, 16));
		headerRenderer.setHorizontalAlignment(SwingConstants.CENTER);

		// Áp dụng renderer cho tiêu đề
		table.getTableHeader().setDefaultRenderer(headerRenderer);

		// Cài đặt font và chiều cao cho nội dung bảng
		table.setFont(new Font("Tahoma", Font.BOLD, 14));
		table.setRowHeight(30);

		JScrollPane scrollPane = new JScrollPane(table);
		tablePanel.add(scrollPane, BorderLayout.CENTER);

		return tablePanel;
	}

	// Getter methods
	public JTextField getTxtEmployeeId() {
		return txtEmployeeId;
	}

	public JTextField getTxtFirstName() {
		return txtFirstName;
	}

	public JTextField getTxtLastName() {
		return txtLastName;
	}

	public JTextField getTxtBirthDate() {
		return txtBirthDate;
	}

	public JTextField getTxtHireDate() {
		return txtHireDate;
	}

	public JTextField getTxtEmail() {
		return txtEmail;
	}

	public JTextField getTxtPhoneNumber() {
		return txtPhoneNumber;
	}

	public JTextField getTxtAddress() {
		return txtAddress;
	}

	public JComboBox<String> getCmbPositionName() {
		return cmbPositionName;
	}

	public JTextField getTxtFind() {
		return txtFind;
	}

	public JButton getBtnAdd() {
		return btnAdd;
	}

	public JButton getBtnEdit() {
		return btnEdit;
	}

	public JButton getBtnDelete() {
		return btnDelete;
	}

	public JButton getBtnFind() {
		return btnFind;
	}

	public JButton getBtnExport() {
		return btnExport;
	}

	public JButton getBtnCreateId() {
		return btnCreateId;
	}

	public JTable getTable() {
		return table;
	}

	public DefaultTableModel getData() {
		return data;
	}

	public void setData(DefaultTableModel data) {
		this.data = data;
		table.setModel(data);
	}

	public void setCmbPositionName(String[] data) {
		this.cmbPositionName.removeAllItems();
		for (String item : data) {
			cmbPositionName.addItem(item);
		}
		revalidate();
		repaint();
	}
}

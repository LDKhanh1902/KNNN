package vn.DA_KNNN.View;

import javax.swing.*;
import javax.swing.table.DefaultTableModel;
import java.awt.*;

public class SaleView extends JPanel {
    private static final long serialVersionUID = 1L;
    private JTextField searchField;
    private JTable bookTable, cartTable;
    private DefaultTableModel bookModel, cartModel;
    private JLabel totalPriceLabel;
    private JButton searchButton, printInvoiceButton, payButton, refreshButton;
    
    public SaleView() {
        setLayout(new BorderLayout(10, 10));

        // **üîé Search Panel**
        JPanel searchPanel = new JPanel(new FlowLayout(FlowLayout.LEFT, 10, 10));
        searchPanel.add(new JLabel("üîé T√¨m ki·∫øm s√°ch:"));
        searchField = new JTextField(20);
        searchPanel.add(searchField);
        searchButton = new JButton("T√¨m");
        searchPanel.add(searchButton);
        add(searchPanel, BorderLayout.NORTH);

        // **üìö Book List Table**
        String[] bookColumns = {"T√™n s√°ch", "Gi√° (VNƒê)"};
        bookModel = new DefaultTableModel(bookColumns, 0);
        bookTable = new JTable(bookModel);
        JScrollPane bookScrollPane = new JScrollPane(bookTable);
        add(bookScrollPane, BorderLayout.WEST);

        // **üõí Cart Table**
        String[] cartColumns = {"T√™n s√°ch", "Gi√° (VNƒê)", "S·ªë l∆∞·ª£ng", "T·ªïng gi√°", "X√≥a"};
        cartModel = new DefaultTableModel(cartColumns, 0) {
            @Override
            public boolean isCellEditable(int row, int column) {
                return column == 2;
            }
        };
        cartTable = new JTable(cartModel);
        JScrollPane cartScrollPane = new JScrollPane(cartTable);
        add(cartScrollPane, BorderLayout.CENTER);

        // **üí∞ Total & Buttons**
        JPanel bottomPanel = new JPanel(new BorderLayout());
        JPanel totalPanel = new JPanel(new FlowLayout(FlowLayout.RIGHT, 10, 10));
        totalPriceLabel = new JLabel("üí∞ T·ªïng ti·ªÅn: 0 VNƒê");
        totalPanel.add(totalPriceLabel);
        bottomPanel.add(totalPanel, BorderLayout.NORTH);

        JPanel buttonPanel = new JPanel(new FlowLayout(FlowLayout.RIGHT, 10, 10));
        printInvoiceButton = new JButton("üñ®Ô∏è Xu·∫•t H√≥a ƒê∆°n");
        payButton = new JButton("üè¶ Thanh To√°n");
        refreshButton = new JButton("üîÑ L√†m M·ªõi");
        buttonPanel.add(printInvoiceButton);
        buttonPanel.add(payButton);
        buttonPanel.add(refreshButton);
        bottomPanel.add(buttonPanel, BorderLayout.SOUTH);

        add(bottomPanel, BorderLayout.SOUTH);
    }

    public JTextField getSearchField() { return searchField; }
    public JTable getBookTable() { return bookTable; }
    public JTable getCartTable() { return cartTable; }
    public DefaultTableModel getBookModel() { return bookModel; }
    public DefaultTableModel getCartModel() { return cartModel; }
    public JLabel getTotalPriceLabel() { return totalPriceLabel; }
    public JButton getSearchButton() { return searchButton; }
    public JButton getPrintInvoiceButton() { return printInvoiceButton; }
    public JButton getPayButton() { return payButton; }
    public JButton getRefreshButton() { return refreshButton; }
}

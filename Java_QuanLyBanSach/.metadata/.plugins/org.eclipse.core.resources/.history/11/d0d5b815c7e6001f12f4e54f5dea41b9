package vn.DA_KNNN.View;

import javax.swing.*;
import vn.DA_KNNN.Components.PieChart;
import vn.DA_KNNN.Components.ColumnChart;
import java.awt.*;

public class MainView extends JPanel {
    private static final long serialVersionUID = 1L;

    public MainView() {
        setLayout(new BorderLayout());
        setBackground(Color.WHITE);

        // **ğŸ“Œ Header Panel (Giá»¯ cá»‘ Ä‘á»‹nh)**
        JPanel headerContainer = new JPanel(new BorderLayout());
        JPanel headerPanel = createHeader();
        headerContainer.add(headerPanel, BorderLayout.NORTH);
        headerContainer.setPreferredSize(new Dimension(getWidth(), 60)); // Giá»¯ cá»‘ Ä‘á»‹nh header

        add(headerContainer, BorderLayout.NORTH);

        // **ğŸ“Œ Ná»™i dung chÃ­nh**
        JPanel mainContent = new JPanel(new BorderLayout());
        add(mainContent, BorderLayout.CENTER);

        // **ğŸ“Œ ThÃ´ng tin tá»•ng quan (Giá»¯ nguyÃªn chiá»u cao)**
        JPanel infoPanel = createInfoCards();
        mainContent.add(infoPanel, BorderLayout.NORTH); // KhÃ´ng bá»‹ co giÃ£n

        // **ğŸ“Œ Khu vá»±c biá»ƒu Ä‘á»“ (CÃ³ thá»ƒ co giÃ£n)**
        JPanel chartPanel = createChartPanel();
        mainContent.add(chartPanel, BorderLayout.CENTER); // Biá»ƒu Ä‘á»“ sáº½ tá»± Ä‘á»™ng co giÃ£n

        // **ğŸ“Œ Footer**
        JPanel footerPanel = createFooter();
        add(footerPanel, BorderLayout.SOUTH);
    }

    /**
     * **ğŸ“Œ Header - ThÃ´ng tin User vÃ  Doanh thu**
     */
    private JPanel createHeader() {
        JPanel headerPanel = new JPanel(new BorderLayout());
        headerPanel.setBackground(new Color(30, 144, 255));
        headerPanel.setPreferredSize(new Dimension(getWidth(), 60)); // Giá»¯ nguyÃªn kÃ­ch thÆ°á»›c

        // ğŸ“Œ TiÃªu Ä‘á» (CÄƒn giá»¯a)
        JLabel title = new JLabel("ğŸ“š Há»‡ thá»‘ng Quáº£n lÃ½ BÃ¡n SÃ¡ch", SwingConstants.CENTER);
        title.setForeground(Color.WHITE);
        title.setFont(new Font("Tahoma", Font.BOLD, 18));
        headerPanel.add(title, BorderLayout.CENTER);

        // ğŸ“Œ ThÃ´ng tin User (Dá»‹ch vÃ o trong)
        JPanel userPanel = new JPanel(new FlowLayout(FlowLayout.RIGHT, 15, 10));
        userPanel.setOpaque(false); // Giá»¯ mÃ u ná»n trong suá»‘t
        JLabel userInfo = new JLabel("ğŸ‘¤ Xin chÃ o, Nguyá»…n VÄƒn A");
        userInfo.setForeground(Color.WHITE);
        userInfo.setFont(new Font("Tahoma", Font.PLAIN, 14));
        userPanel.add(userInfo);

        headerPanel.add(userPanel, BorderLayout.EAST);

        return headerPanel;
    }

    /**
     * **ğŸ“Œ ThÃ´ng tin Tá»•ng quan**
     */
    private JPanel createInfoCards() {
        JPanel infoPanel = new JPanel();
        infoPanel.setLayout(new BoxLayout(infoPanel, BoxLayout.X_AXIS)); // Sáº¯p xáº¿p theo hÃ ng ngang
        infoPanel.setBorder(BorderFactory.createEmptyBorder(10, 10, 10, 10));

        // Äáº·t kÃ­ch thÆ°á»›c cá»‘ Ä‘á»‹nh cho infoPanel
        infoPanel.setPreferredSize(new Dimension(1000, 100));
        infoPanel.setMaximumSize(new Dimension(1000, 100)); // KhÃ´ng cho phÃ©p co giÃ£n theo chiá»u dá»c

        infoPanel.add(createInfoCard("ğŸ“š Sá»‘ lÆ°á»£ng sÃ¡ch: 120"));
        infoPanel.add(Box.createHorizontalStrut(10)); // Khoáº£ng cÃ¡ch
        infoPanel.add(createInfoCard("ğŸ‘¥ Sá»‘ nhÃ¢n viÃªn: 10"));
        infoPanel.add(Box.createHorizontalStrut(10));
        infoPanel.add(createInfoCard("ğŸ›ï¸ Sá»‘ khÃ¡ch hÃ ng: 250"));
        infoPanel.add(Box.createHorizontalStrut(10));
        infoPanel.add(createInfoCard("ğŸ’° Tá»•ng doanh thu: 5.000.000 VNÄ"));

        return infoPanel;
    }

    private JPanel createInfoCard(String text) {
        JPanel card = new JPanel(new BorderLayout());
        card.setBorder(BorderFactory.createLineBorder(Color.BLACK, 1));
        card.setBackground(Color.WHITE);
        card.setPreferredSize(new Dimension(200, 80)); // KÃ­ch thÆ°á»›c cá»‘ Ä‘á»‹nh

        JLabel label = new JLabel(text, SwingConstants.CENTER);
        label.setFont(new Font("Tahoma", Font.PLAIN, 14));
        card.add(label, BorderLayout.CENTER);

        return card;
    }

    /**
     * **ğŸ“Œ Khu vá»±c Biá»ƒu Ä‘á»“**
     */
    private JPanel createChartPanel() {
        JPanel chartPanel = new JPanel(new GridLayout(1, 2, 10, 10));
        chartPanel.setBorder(BorderFactory.createEmptyBorder(10, 10, 10, 10));

        PieChart pieChart = new PieChart(); // Biá»ƒu Ä‘á»“ loáº¡i sÃ¡ch bÃ¡n cháº¡y
        ColumnChart columnChart = new ColumnChart(); // Biá»ƒu Ä‘á»“ doanh thu theo thÃ¡ng

        chartPanel.add(pieChart);
        chartPanel.add(columnChart);

        return chartPanel;
    }

    /**
     * **ğŸ“Œ Footer**
     */
    private JPanel createFooter() {
        JPanel footerPanel = new JPanel(new FlowLayout(FlowLayout.CENTER, 10, 10));
        footerPanel.setPreferredSize(new Dimension(getWidth(), 40));
        footerPanel.setBackground(new Color(70, 70, 70));

        JLabel footerLabel = new JLabel("Â© 2025 Há»‡ thá»‘ng Quáº£n lÃ½ BÃ¡n SÃ¡ch - NhÃ³m 8");
        footerLabel.setForeground(Color.WHITE);
        footerPanel.add(footerLabel);

        return footerPanel;
    }

    /**
     * **ğŸ“Œ Cháº¡y á»©ng dá»¥ng**
     */
    public static void main(String[] args) {
        JFrame frame = new JFrame("Há»‡ thá»‘ng Quáº£n lÃ½ BÃ¡n SÃ¡ch");
        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
        frame.setSize(1200, 700);
        frame.getContentPane().add(new MainView());
        frame.setLocationRelativeTo(null);
        frame.setVisible(true);
    }
}

package vn.DA_KNNN.Components;

import javax.swing.JFrame;
import javax.swing.JPanel;
import org.jfree.chart.ChartFactory;
import org.jfree.chart.ChartPanel;
import org.jfree.chart.JFreeChart;
import org.jfree.chart.plot.CategoryPlot;
import org.jfree.data.category.DefaultCategoryDataset;
import java.awt.Color;
import javax.swing.BoxLayout;

public class ColumnChart extends JPanel{

    public static void main(String[] args) {
        // Tạo JFrame để chứa JPanel
        JFrame frame = new JFrame("Column Chart Example");
        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
        frame.getContentPane().add(createChartPanel()); // Thêm JPanel chứa biểu đồ cột vào JFrame
        frame.setSize(600, 400); // Đặt kích thước cho JFrame
        frame.setLocationRelativeTo(null); // Đặt JFrame ở giữa màn hình
        frame.setVisible(true); // Hiển thị JFrame
    }

    public ColumnChart() {
    	setLayout(new BoxLayout(this, BoxLayout.X_AXIS));
    	add(createChartPanel());
    }
    
    private static JPanel createChartPanel() {
        // Tạo dataset cho Column Chart
        DefaultCategoryDataset dataset = new DefaultCategoryDataset();
        dataset.addValue(10, "Category", "A");
        dataset.addValue(30, "Category", "B");
        dataset.addValue(20, "Category", "C");
        dataset.addValue(10, "Category", "D");

        // Tạo Column Chart từ dataset
        JFreeChart chart = ChartFactory.createBarChart(
                "Column Chart Example",    // Tên biểu đồ
                "Category",               // Tên trục X
                "Value",                  // Tên trục Y
                dataset,                  // Dữ liệu
                org.jfree.chart.plot.PlotOrientation.VERTICAL, // Định hướng cột (Dọc)
                true,                     // Bao gồm chú thích (legend)
                true,                     // Bao gồm tooltips
                false                     // Không bao gồm URL
        );

        // Tùy chỉnh màu sắc cho cột
        CategoryPlot plot = (CategoryPlot) chart.getPlot();
        plot.getRenderer().setSeriesPaint(0, new Color(100, 150, 255));  // Màu cột

        // Tạo một ChartPanel và gán biểu đồ vào đó
        ChartPanel chartPanel = new ChartPanel(chart);
        chartPanel.setPreferredSize(new java.awt.Dimension(600, 400));

        // Trả về ChartPanel chứa biểu đồ cột
        return chartPanel;
    }
}

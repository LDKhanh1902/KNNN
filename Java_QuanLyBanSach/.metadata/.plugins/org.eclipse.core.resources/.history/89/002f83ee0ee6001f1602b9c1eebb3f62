package vn.DA_KNNN.Components;

import java.awt.*;
import javax.swing.*;

public class ColumnChart extends JPanel {
	public ColumnChart() {
	}
    private static final long serialVersionUID = 1L;
    private final int[] revenue = {12000, 15000, 18000, 22000, 25000, 27000, 30000, 32000, 35000, 37000, 40000, 42000};
    private final String[] months = {"Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"};
    private final String chartTitle = "Monthly Revenue Chart";

    @Override
    protected void paintComponent(Graphics g) {
        super.paintComponent(g);
        Graphics2D g2d = (Graphics2D) g;
        g2d.setRenderingHint(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON);

        int barWidth = 40;
        int spacing = 15;
        int startX = 50;
        int startY = 250;
        int scaleY = 1000;  // Chia giá trị doanh thu để điều chỉnh tỉ lệ

        // Vẽ tiêu đề biểu đồ
        g2d.setFont(new Font("Arial", Font.BOLD, 16));
        g2d.drawString(chartTitle, getWidth() / 2 - 80, 30);

        // Vẽ các cột biểu đồ
        for (int i = 0; i < revenue.length; i++) {
            int height = revenue[i] / scaleY * 10;

            g2d.setColor(new Color(30, 144, 255));
            g2d.fillRoundRect(startX + i * (barWidth + spacing), startY - height, barWidth, height, 10, 10);

            g2d.setColor(Color.BLACK);
            g2d.drawRoundRect(startX + i * (barWidth + spacing), startY - height, barWidth, height, 10, 10);

            // Hiển thị giá trị doanh thu
            g2d.drawString(revenue[i] + " VNĐ", startX + i * (barWidth + spacing) + 5, startY - height - 5);

            // Hiển thị tên tháng
            g2d.drawString(months[i], startX + i * (barWidth + spacing) + 5, startY + 20);
        }
    }

    public static void main(String[] args) {
        JFrame frame = new JFrame("Column Chart Example");
        ColumnChart chart = new ColumnChart();
        frame.getContentPane().add(chart);
        frame.setSize(800, 400);
        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
        frame.setVisible(true);
    }
}

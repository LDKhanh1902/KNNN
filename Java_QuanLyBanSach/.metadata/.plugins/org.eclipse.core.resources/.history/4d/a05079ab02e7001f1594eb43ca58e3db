package vn.DA_KNNN.View;

import javax.swing.*;
import javax.swing.table.DefaultTableModel;
import java.awt.*;

public class SaleView extends JPanel {
    private static final long serialVersionUID = 1L;
    private JTextField searchField, quantityField;
    private JTable bookTable, cartTable;
    private DefaultTableModel bookModel, cartModel;
    private JLabel totalPriceLabel;
    private JButton searchButton, printInvoiceButton, payButton, refreshButton, addButton;
    
    public SaleView() {
        setLayout(new BorderLayout(10, 10));

        // **üîé Search Panel**
        JPanel searchPanel = new JPanel();
        searchPanel.setLayout(new BoxLayout(searchPanel, BoxLayout.X_AXIS));
        JLabel label = new JLabel("üîé T√¨m ki·∫øm s√°ch:");
        label.setFont(new Font("Tahoma", Font.PLAIN, 16));
        searchPanel.add(label);
        searchField = new JTextField(20);
        searchField.setFont(new Font("Tahoma", Font.PLAIN, 20));
        searchPanel.add(searchField);
        searchButton = new JButton("T√¨m");
        searchButton.setFont(new Font("Tahoma", Font.PLAIN, 18));
        searchPanel.add(searchButton);
        add(searchPanel, BorderLayout.NORTH);

        // **üìö Book List Table**
        String[] bookColumns = {"T√™n s√°ch", "Gi√° (VNƒê)"};
        bookModel = new DefaultTableModel(bookColumns, 0);
        bookTable = new JTable(bookModel);
        bookTable.setFont(new Font("Tahoma", Font.PLAIN, 16));
        JScrollPane bookScrollPane = new JScrollPane(bookTable);
        
        JPanel bookPanel = new JPanel(new BorderLayout());
        bookPanel.add(bookScrollPane, BorderLayout.CENTER);
        
        JPanel addPanel = new JPanel();
        addPanel.setLayout(new BoxLayout(addPanel, BoxLayout.X_AXIS));
        quantityField = new JTextField(5);
        quantityField.setFont(new Font("Tahoma", Font.PLAIN, 16));
        addButton = new JButton("Th√™m v√†o gi·ªè");
        addButton.setFont(new Font("Tahoma", Font.PLAIN, 18));
        addPanel.add(new JLabel("S·ªë l∆∞·ª£ng:"));
        addPanel.add(quantityField);
        addPanel.add(addButton);
        
        bookPanel.add(addPanel, BorderLayout.SOUTH);
        add(bookPanel, BorderLayout.WEST);

        // **üõí Cart Table**
        String[] cartColumns = {"T√™n s√°ch", "Gi√° (VNƒê)", "S·ªë l∆∞·ª£ng", "T·ªïng gi√°", "X√≥a"};
        cartModel = new DefaultTableModel(cartColumns, 0) {
            @Override
            public boolean isCellEditable(int row, int column) {
                return column == 2;
            }
        };
        cartTable = new JTable(cartModel);
        JScrollPane cartScrollPane = new JScrollPane(cartTable);
        add(cartScrollPane, BorderLayout.CENTER);

        // **üí∞ Total & Buttons**
        JPanel bottomPanel = new JPanel(new BorderLayout());
        JPanel totalPanel = new JPanel(new FlowLayout(FlowLayout.RIGHT, 10, 10));
        totalPriceLabel = new JLabel("üí∞ T·ªïng ti·ªÅn: 0 VNƒê");
        totalPriceLabel.setFont(new Font("Tahoma", Font.PLAIN, 18));
        totalPanel.add(totalPriceLabel);
        bottomPanel.add(totalPanel, BorderLayout.NORTH);

        JPanel buttonPanel = new JPanel();
        printInvoiceButton = new JButton("üñ®Ô∏è Xu·∫•t H√≥a ƒê∆°n");
        printInvoiceButton.setFont(new Font("Tahoma", Font.PLAIN, 18));
        payButton = new JButton("üè¶ Thanh To√°n");
        payButton.setFont(new Font("Tahoma", Font.PLAIN, 18));
        refreshButton = new JButton("üîÑ L√†m M·ªõi");
        refreshButton.setFont(new Font("Tahoma", Font.PLAIN, 18));
        buttonPanel.setLayout(new BoxLayout(buttonPanel, BoxLayout.X_AXIS));
        buttonPanel.add(printInvoiceButton);
        buttonPanel.add(payButton);
        buttonPanel.add(refreshButton);
        bottomPanel.add(buttonPanel, BorderLayout.EAST);

        add(bottomPanel, BorderLayout.SOUTH);
    }

    public JTextField getSearchField() { return searchField; }
    public JTextField getQuantityField() { return quantityField; }
    public JTable getBookTable() { return bookTable; }
    public JTable getCartTable() { return cartTable; }
    public DefaultTableModel getBookModel() { return bookModel; }
    public DefaultTableModel getCartModel() { return cartModel; }
    public JLabel getTotalPriceLabel() { return totalPriceLabel; }
    public JButton getSearchButton() { return searchButton; }
    public JButton getAddButton() { return addButton; }
    public JButton getPrintInvoiceButton() { return printInvoiceButton; }
    public JButton getPayButton() { return payButton; }
    public JButton getRefreshButton() { return refreshButton; }
}

package vn.DA_KNNN.View;

import javax.swing.*;
import javax.swing.table.DefaultTableModel;

import vn.DA_KNNN.Components.AppHelper;

import java.awt.*;

public class SaleView extends JPanel {
	private static final long serialVersionUID = 1L;
	private JTextField searchField, quantityField;
	private JTable bookTable, cartTable;
	private DefaultTableModel bookModel, cartModel;
	private JLabel totalPriceLabel;
	private JButton payButton, addButton, removeButton;

	public SaleView() {
		setBackground(Color.WHITE);
		setLayout(new BorderLayout(10, 10));

		// **üîé Search Panel**
		JPanel searchPanel = new JPanel();
		searchPanel.setBackground(Color.WHITE);
		searchPanel.setLayout(new BoxLayout(searchPanel, BoxLayout.X_AXIS));
		JLabel lblTmKimSch = new JLabel(" T√¨m ki·∫øm s√°ch : ");
		lblTmKimSch.setFont(new Font("Tahoma", Font.PLAIN, 20));
		searchPanel.add(lblTmKimSch);
		searchField = new JTextField(20);
		searchField.setFont(new Font("Tahoma", Font.PLAIN, 20));
		searchPanel.add(searchField);
		add(searchPanel, BorderLayout.NORTH);

		// **üìö Book List Table**
		String[] bookColumns = { "T√™n s√°ch", "Gi√° (VNƒê)" };
		bookModel = new DefaultTableModel(bookColumns, 0);
		bookTable = new JTable(bookModel);
		bookTable.setFont(new Font("Tahoma", Font.PLAIN, 16));
		JScrollPane bookScrollPane = new JScrollPane(bookTable);

		JPanel bookPanel = new JPanel(new BorderLayout());
		bookPanel.setBackground(Color.WHITE);
		bookPanel.add(bookScrollPane, BorderLayout.CENTER);

		JPanel addPanel = new JPanel();
		addPanel.setBackground(Color.WHITE);
		addPanel.setLayout(new BoxLayout(addPanel, BoxLayout.X_AXIS));
		quantityField = new JTextField(5);
		quantityField.setFont(new Font("Tahoma", Font.PLAIN, 16));
		addButton = new JButton("Th√™m v√†o gi·ªè",AppHelper.setSizeImage("/images/add.png",40,40));
		addButton.setForeground(Color.WHITE);
		addButton.setBackground(new Color(0, 128, 192));
		addButton.setFont(new Font("Tahoma", Font.PLAIN, 18));
		addButton.setOpaque(true);
		addButton.setBorderPainted(false);
		
		JLabel lblSLng = new JLabel(" S·ªë l∆∞·ª£ng:");
		lblSLng.setFont(new Font("Tahoma", Font.PLAIN, 18));
		addPanel.add(lblSLng);
		addPanel.add(quantityField);
		addPanel.add(addButton);

		bookPanel.add(addPanel, BorderLayout.SOUTH);
		add(bookPanel, BorderLayout.WEST);

		// **üõí Cart Panel with Table**
		JPanel cartPanel = new JPanel(new BorderLayout());
		cartPanel.setBackground(Color.WHITE);
		String[] cartColumns = { "T√™n s√°ch", "Gi√° (VNƒê)", "S·ªë l∆∞·ª£ng", "T·ªïng gi√°" };
		cartModel = new DefaultTableModel(cartColumns, 0);
		cartTable = new JTable(cartModel);
		JScrollPane cartScrollPane = new JScrollPane(cartTable);
		cartPanel.add(cartScrollPane, BorderLayout.CENTER);

		removeButton = new JButton("X√≥a m·ª•c ƒë√£ ch·ªçn", AppHelper.setSizeImage("/images/delete.png", 30, 30));
		removeButton.setFont(new Font("Tahoma", Font.PLAIN, 18));
		removeButton.setForeground(Color.WHITE);
		removeButton.setBackground(new Color(240, 74, 66));
		removeButton.setFont(new Font("Tahoma", Font.PLAIN, 18));
		removeButton.setOpaque(true);
		removeButton.setBorderPainted(false);

		// T·∫°o panel cho n√∫t v√† s·ª≠ d·ª•ng FlowLayout ƒë·ªÉ cƒÉn ph·∫£i
		JPanel removePanel = new JPanel();
		removePanel.setBackground(Color.WHITE);
		// S·ª≠ d·ª•ng FlowLayout.CENTER ƒë·ªÉ cƒÉn gi·ªØa (ho·∫∑c c√≥ th·ªÉ d√πng FlowLayout.RIGHT ƒë·ªÉ cƒÉn ph·∫£i)
		removePanel.setLayout(new FlowLayout(FlowLayout.RIGHT, 5, 5)); 
		removePanel.add(removeButton);

		// Th√™m removePanel v√†o cartPanel (n·∫øu cartPanel l√† JPanel)
		cartPanel.add(removePanel, BorderLayout.SOUTH);


		add(cartPanel, BorderLayout.CENTER);

		// **üí∞ Total & Buttons**
		JPanel bottomPanel = new JPanel(new BorderLayout());
		bottomPanel.setBackground(Color.WHITE);
		JPanel totalPanel = new JPanel();
		totalPanel.setBackground(Color.WHITE);
		totalPanel.setLayout(new GridLayout(0, 2, 0, 0));
		
		JLabel lblNewLabel_1 = new JLabel("");
		totalPanel.add(lblNewLabel_1);
		totalPriceLabel = new JLabel("T·ªïng ti·ªÅn: 320000 VNƒê",AppHelper.setSizeImage("/images/money_bag.png",40,40),SwingConstants.RIGHT);
		totalPriceLabel.setFont(new Font("Tahoma", Font.PLAIN, 20));
		totalPanel.add(totalPriceLabel);
		bottomPanel.add(totalPanel, BorderLayout.NORTH);

		JPanel buttonPanel = new JPanel();
		buttonPanel.setBackground(Color.WHITE);
		payButton = new JButton("Thanh To√°n",AppHelper.setSizeImage("/images/pay.png",40,40));
		payButton.setForeground(Color.WHITE);
		payButton.setFont(new Font("Tahoma", Font.BOLD, 20));
		payButton.setBackground(new Color(76, 175, 80));
		payButton.setOpaque(true);
		payButton.setBorderPainted(false);
		buttonPanel.setLayout(new BoxLayout(buttonPanel, BoxLayout.X_AXIS));
		buttonPanel.add(payButton);
		bottomPanel.add(buttonPanel, BorderLayout.EAST);

		add(bottomPanel, BorderLayout.SOUTH);
	}

	public JTextField getSearchField() {
		return searchField;
	}

	public JTextField getQuantityField() {
		return quantityField;
	}

	public JTable getBookTable() {
		return bookTable;
	}

	public JTable getCartTable() {
		return cartTable;
	}

	public DefaultTableModel getBookModel() {
		return bookModel;
	}
	
	public void setBookModel(DefaultTableModel data) {
		bookTable.setModel(data);
	}

	public DefaultTableModel getCartModel() {
		return cartModel;
	}

	public JLabel getTotalPriceLabel() {
		return totalPriceLabel;
	}

	public JButton getAddButton() {
		return addButton;
	}

	public JButton getPayButton() {
		return payButton;
	}

	public JButton getRemoveButton() {
		return removeButton;
	}
}
package vn.DA_KNNN.View;

import java.awt.*;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;
import javax.swing.*;

public class LoginView extends JFrame {

    private static final long serialVersionUID = 1L;

    private JTextField txtUserName;
    private JPasswordField txtPassword;
    private JButton btnLogin, btnExit, btnShow;
    private JLabel lblTitle, lblUserName, lblPassword;

    public String getUserName() {
        return txtUserName.getText();
    }

    public String getPassword() {
        return new String(txtPassword.getPassword());
    }

    public LoginView() {
        // Set up the window properties
        ImageIcon icon = new ImageIcon(getClass().getResource("/images/imgIcon.jpeg"));
        setIconImage(icon.getImage());
        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
        setTitle("Đăng nhập");
        setSize(500, 350);
        setLocationRelativeTo(null);  // Center the window

        // Set a modern look-and-feel
        try {
            UIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());
        } catch (Exception e) {
            e.printStackTrace();
        }

        // Create a panel for the UI
        JPanel contentPane = new JPanel();
        contentPane.setBackground(new Color(245, 245, 245));
        setContentPane(contentPane);
        contentPane.setLayout(new BoxLayout(contentPane, BoxLayout.Y_AXIS));

        // Create the title label with a bold and modern font
        lblTitle = new JLabel("ĐĂNG NHẬP", SwingConstants.CENTER);
        lblTitle.setFont(new Font("Segoe UI", Font.BOLD, 32));
        lblTitle.setForeground(new Color(0, 102, 204));

        // Create username and password fields with modern font and styling
        lblUserName = new JLabel("Tên đăng nhập :");
        lblUserName.setFont(new Font("Segoe UI", Font.PLAIN, 18));

        txtUserName = new JTextField(20);
        txtUserName.setFont(new Font("Segoe UI", Font.PLAIN, 18));
        txtUserName.setPreferredSize(new Dimension(300, 30));

        lblPassword = new JLabel("Mật khẩu :");
        lblPassword.setFont(new Font("Segoe UI", Font.PLAIN, 18));

        txtPassword = new JPasswordField(20);
        txtPassword.setFont(new Font("Segoe UI", Font.PLAIN, 18));
        txtPassword.setPreferredSize(new Dimension(300, 30));

        // Create the "Show" button for showing/hiding the password
        btnShow = new JButton("Show");
        btnShow.setFont(new Font("Segoe UI", Font.PLAIN, 14));
        btnShow.setBackground(new Color(240, 240, 240));
        btnShow.setBorder(BorderFactory.createLineBorder(new Color(200, 200, 200)));
        btnShow.addActionListener(new ActionListener() {
            @Override
            public void actionPerformed(ActionEvent e) {
                if (txtPassword.getEchoChar() == '\u0000') {
                    txtPassword.setEchoChar('*');
                    btnShow.setText("Show");
                } else {
                    txtPassword.setEchoChar('\u0000');
                    btnShow.setText("Hide");
                }
            }
        });

        // Create the Login button with modern design
        btnLogin = new JButton("Login");
        btnLogin.setFont(new Font("Segoe UI", Font.BOLD, 16));
        btnLogin.setBackground(new Color(0, 123, 255));
        btnLogin.setForeground(Color.WHITE);
        btnLogin.setFocusPainted(false);
        btnLogin.setPreferredSize(new Dimension(150, 40));
        btnLogin.setBorder(BorderFactory.createRoundBorder(5));

        // Create the Exit button
        btnExit = new JButton("Exit");
        btnExit.setFont(new Font("Segoe UI", Font.BOLD, 16));
        btnExit.setBackground(new Color(255, 74, 66));
        btnExit.setForeground(Color.WHITE);
        btnExit.setFocusPainted(false);
        btnExit.setPreferredSize(new Dimension(150, 40));
        btnExit.setBorder(BorderFactory.createRoundBorder(5));

        // Adding components to the content pane
        contentPane.add(lblTitle);
        contentPane.add(Box.createVerticalStrut(30));
        contentPane.add(lblUserName);
        contentPane.add(txtUserName);
        contentPane.add(Box.createVerticalStrut(20));
        contentPane.add(lblPassword);
        contentPane.add(txtPassword);
        contentPane.add(btnShow);
        contentPane.add(Box.createVerticalStrut(20));
        contentPane.add(btnLogin);
        contentPane.add(Box.createVerticalStrut(10));
        contentPane.add(btnExit);
    }

    public JButton getBtnLogin() {
        return btnLogin;
    }

    public JButton getBtnExit() {
        return btnExit;
    }
}

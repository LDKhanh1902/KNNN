package vn.DA_KNNN.Components;

import javax.swing.JFrame;
import javax.swing.JPanel;
import org.jfree.chart.ChartFactory;
import org.jfree.chart.ChartPanel;
import org.jfree.chart.JFreeChart;
import org.jfree.chart.plot.CategoryPlot;
import org.jfree.chart.renderer.category.LineAndShapeRenderer;
import org.jfree.data.category.DefaultCategoryDataset;
import java.awt.Color;

public class LineChart {

    public static void main(String[] args) {
        // Tạo JFrame để hiển thị biểu đồ
        JFrame frame = new JFrame("Line Chart Example");
        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
        frame.add(createChartPanel()); // Thêm JPanel chứa biểu đồ vào JFrame
        frame.setSize(600, 400); // Đặt kích thước cho JFrame
        frame.setLocationRelativeTo(null); // Căn giữa JFrame
        frame.setVisible(true); // Hiển thị JFrame
    }

    private static JPanel createChartPanel() {
        // Tạo dataset cho Line Chart
        DefaultCategoryDataset dataset = new DefaultCategoryDataset();
        dataset.addValue(1, "Series 1", "A");
        dataset.addValue(30, "Series 1", "B");
        dataset.addValue(20, "Series 1", "C");
        dataset.addValue(10, "Series 1", "D");

        // Tạo biểu đồ đường từ dataset
        JFreeChart chart = ChartFactory.createLineChart(
                "Line Chart Example",  // Tiêu đề biểu đồ
                "Category",            // Tên trục X
                "Value",               // Tên trục Y
                dataset,               // Dataset
                org.jfree.chart.plot.PlotOrientation.VERTICAL, // Định hướng dọc
                true,                  // Hiển thị chú thích (legend)
                true,                  // Hiển thị tooltips
                false                  // Không có URL
        );

        // Tùy chỉnh giao diện biểu đồ
        CategoryPlot plot = (CategoryPlot) chart.getPlot();
        LineAndShapeRenderer renderer = new LineAndShapeRenderer();
        renderer.setSeriesPaint(0, new Color(0, 0, 255));  // Màu xanh cho đường
        renderer.setSeriesShapesVisible(0, true);  // Hiển thị dấu tròn trên đường
        plot.setRenderer(renderer);

        // Tạo một ChartPanel chứa biểu đồ và trả về JPanel
        ChartPanel chartPanel = new ChartPanel(chart);
        chartPanel.setPreferredSize(new java.awt.Dimension(600, 400));

        return chartPanel;
    }
}

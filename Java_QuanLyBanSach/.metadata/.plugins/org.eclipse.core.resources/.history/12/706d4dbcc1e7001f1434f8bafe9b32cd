package vn.DA_KNNN.View;

import javax.swing.*;
import javax.swing.border.TitledBorder;
import javax.swing.table.DefaultTableCellRenderer;
import javax.swing.table.DefaultTableModel;
import java.awt.*;

public class CustomerView extends JPanel {
	private static final long serialVersionUID = 1L;

	private JLabel lblCustomerId, lblFirstName, lblLastName, lblBirthDate, lblPhoneNumber, lblAddress;
	private JTextField txtFirstName, txtLastName, txtBirthDate, txtPhoneNumber, txtAddress, txtCustomerId, txtFind;
	private JButton btnAdd, btnEdit, btnDelete, btnFind, btnCreateId;
	private JTable table;
	private DefaultTableModel data;
	private JPanel panelFind, panelCustomerId;
	private JButton btnNewButton;

	public CustomerView() {
		setLayout(new BorderLayout(10, 10));

		// Tạo panel chính chứa Thông tin khách hàng và Chức năng
		JPanel topPanel = new JPanel(new BorderLayout(10, 10));

		// Thêm panel Thông tin khách hàng
		JPanel customerInfoPanel = createCustomerInfoPanel();
		topPanel.add(customerInfoPanel, BorderLayout.CENTER);

		// Thêm panel Chức năng
		JPanel functionPanel = createFunctionPanel();
		topPanel.add(functionPanel, BorderLayout.EAST);

		add(topPanel, BorderLayout.NORTH);

		panelFind = new JPanel();
		topPanel.add(panelFind, BorderLayout.SOUTH);
		panelFind.setLayout(new BoxLayout(panelFind, BoxLayout.X_AXIS));

		txtFind = new JTextField();
		panelFind.add(txtFind);
		txtFind.setColumns(10);

		btnFind = new JButton("Tìm kiếm");
		panelFind.add(btnFind);

		// Tạo panel Bảng hiển thị khách hàng
		JPanel tablePanel = createTablePanel();
		add(tablePanel, BorderLayout.CENTER);
	}

	private JPanel createCustomerInfoPanel() {
		JPanel customerInfoPanel = new JPanel(new GridLayout(6, 2, 10, 10));
		customerInfoPanel.setBorder(
				BorderFactory.createTitledBorder(BorderFactory.createLineBorder(Color.BLACK), "Thông tin khách hàng",
						TitledBorder.LEFT, TitledBorder.TOP, new Font("Tahoma", Font.BOLD, 14), Color.BLACK));

		lblCustomerId = new JLabel("Mã khách hàng:");
		lblCustomerId.setFont(new Font("Tahoma", Font.PLAIN, 16));
		lblFirstName = new JLabel("Họ:");
		lblFirstName.setFont(new Font("Tahoma", Font.PLAIN, 16));
		txtFirstName = new JTextField(10);
		txtFirstName.setFont(new Font("Tahoma", Font.PLAIN, 20));
		lblLastName = new JLabel("Tên:");
		lblLastName.setFont(new Font("Tahoma", Font.PLAIN, 16));
		txtLastName = new JTextField(10);
		txtLastName.setFont(new Font("Tahoma", Font.PLAIN, 20));
		lblBirthDate = new JLabel("Ngày sinh:");
		lblBirthDate.setFont(new Font("Tahoma", Font.PLAIN, 16));
		txtBirthDate = new JTextField(10);
		txtBirthDate.setFont(new Font("Tahoma", Font.PLAIN, 20));
		lblPhoneNumber = new JLabel("Số điện thoại:");
		lblPhoneNumber.setFont(new Font("Tahoma", Font.PLAIN, 16));
		txtPhoneNumber = new JTextField(10);
		txtPhoneNumber.setFont(new Font("Tahoma", Font.PLAIN, 20));
		lblAddress = new JLabel("Địa chỉ:");
		lblAddress.setFont(new Font("Tahoma", Font.PLAIN, 16));
		txtAddress = new JTextField(10);
		txtAddress.setFont(new Font("Tahoma", Font.PLAIN, 20));

		customerInfoPanel.add(lblCustomerId);

		panelCustomerId = new JPanel();
		customerInfoPanel.add(panelCustomerId);
		panelCustomerId.setLayout(new BoxLayout(panelCustomerId, BoxLayout.X_AXIS));

		txtCustomerId = new JTextField();
		txtCustomerId.setFont(new Font("Tahoma", Font.PLAIN, 20));
		panelCustomerId.add(txtCustomerId);
		txtCustomerId.setColumns(10);

		btnCreateId = new JButton("Tạo");
		btnCreateId.setFont(new Font("Tahoma", Font.PLAIN, 20));
		panelCustomerId.add(btnCreateId);

		customerInfoPanel.add(lblFirstName);
		customerInfoPanel.add(txtFirstName);
		customerInfoPanel.add(lblLastName);
		customerInfoPanel.add(txtLastName);
		customerInfoPanel.add(lblBirthDate);
		customerInfoPanel.add(txtBirthDate);
		customerInfoPanel.add(lblPhoneNumber);
		customerInfoPanel.add(txtPhoneNumber);
		customerInfoPanel.add(lblAddress);
		customerInfoPanel.add(txtAddress);

		return customerInfoPanel;
	}

	private JPanel createFunctionPanel() {
		JPanel functionPanel = new JPanel();
		functionPanel.setBorder(BorderFactory.createTitledBorder(BorderFactory.createLineBorder(Color.BLACK),
				"Chức năng", TitledBorder.LEFT, TitledBorder.TOP, new Font("Tahoma", Font.BOLD, 14), Color.BLACK));

		functionPanel.setPreferredSize(new Dimension(100, 0));
		functionPanel.setLayout(new GridLayout(4, 1, 1, 1));

		btnAdd = new JButton("Thêm");
		btnAdd.setFont(new Font("Tahoma", Font.PLAIN, 16));
		btnEdit = new JButton("Sửa");
		btnEdit.setFont(new Font("Tahoma", Font.PLAIN, 16));
		btnDelete = new JButton("Xóa");
		btnDelete.setFont(new Font("Tahoma", Font.PLAIN, 16));

		functionPanel.add(btnAdd);
		functionPanel.add(btnEdit);
		functionPanel.add(btnDelete);

		btnNewButton = new JButton("Export");
		btnNewButton.setFont(new Font("Tahoma", Font.PLAIN, 16));
		functionPanel.add(btnNewButton);

		return functionPanel;
	}

	private JPanel createTablePanel() {
		JPanel tablePanel = new JPanel(new BorderLayout());
		tablePanel.setBorder(BorderFactory.createLineBorder(Color.BLACK));
		Object[][] sampleData = {};
		// Tạo bảng dữ liệu
		String[] data = new String[] { "Mã khách hàng", "Họ", "Tên", "Ngày sinh", "Số điện thoại", "Địa chỉ", "Điểm" };
		table = new JTable(new DefaultTableModel(sampleData, data));

		DefaultTableCellRenderer headerRenderer = new DefaultTableCellRenderer();
		headerRenderer.setFont(new Font("Tahoma", Font.BOLD, 16));
		headerRenderer.setHorizontalAlignment(SwingConstants.CENTER);

		// Áp dụng renderer cho tiêu đề
		table.getTableHeader().setDefaultRenderer(headerRenderer);

		// Cài đặt font và chiều cao cho nội dung bảng
		table.setFont(new Font("Tahoma", Font.BOLD, 14));
		table.setRowHeight(30);

		JScrollPane scrollPane = new JScrollPane(table);
		tablePanel.add(scrollPane, BorderLayout.CENTER);

		return tablePanel;
	}

	// Getter methods
	public JTextField getTxtCustomerId() {
		return txtCustomerId;
	}

	public JTextField getTxtFirstName() {
		return txtFirstName;
	}

	public JTextField getTxtLastName() {
		return txtLastName;
	}

	public JTextField getTxtBirthDate() {
		return txtBirthDate;
	}

	public JTextField getTxtPhoneNumber() {
		return txtPhoneNumber;
	}

	public JTextField getTxtAddress() {
		return txtAddress;
	}

	public JTextField getTxtFind() {
		return txtFind;
	}

	public JButton getBtnAdd() {
		return btnAdd;
	}

	public JButton getBtnEdit() {
		return btnEdit;
	}

	public JButton getBtnDelete() {
		return btnDelete;
	}

	public JButton getBtnFind() {
		return btnFind;
	}

	public JButton getBtnCreateId() {
		return btnCreateId;
	}

	public JTable getTable() {
		return table;
	}

	public DefaultTableModel getData() {
		return data;
	}

	public void setData(DefaultTableModel data) {
		this.data = data;
		table.setModel(data);
	}
}

package vn.DA_KNNN.View;

import javax.swing.*;
import vn.DA_KNNN.Components.PieChart;
import vn.DA_KNNN.Components.ColumnChart;
import java.awt.*;

public class MainView extends JPanel {
    private static final long serialVersionUID = 1L;
    private JLabel userInfo, bookCountValue, staffCountValue, soldBooksValue, revenueValue;
    private PieChart pieChart;
    private ColumnChart columnChart;

    public MainView() {
        setLayout(new BorderLayout());
        setBackground(Color.WHITE);

        // **Header Panel**
        JPanel headerPanel = createHeader();
        add(headerPanel, BorderLayout.NORTH);

        // **Main Content Panel**
        JPanel mainContent = new JPanel(new BorderLayout());
        add(mainContent, BorderLayout.CENTER);

        // **Info Panel**
        JPanel infoPanel = new JPanel(new GridLayout(1, 4, 10, 10));
        infoPanel.setBorder(BorderFactory.createEmptyBorder(10, 10, 10, 10));
        mainContent.add(infoPanel, BorderLayout.NORTH);

        // **Book Count Panel**
        JPanel bookPanel = new JPanel(new GridLayout(2, 1));
        JLabel bookLabel = new JLabel("üìö S·ªë l∆∞·ª£ng s√°ch", SwingConstants.CENTER);
        bookLabel.setFont(new Font("Tahoma", Font.PLAIN, 16));
        bookCountValue = new JLabel("120", SwingConstants.CENTER);
        bookCountValue.setFont(new Font("Tahoma", Font.PLAIN, 16));
        bookPanel.setBorder(BorderFactory.createLineBorder(Color.BLACK, 1));
        bookPanel.add(bookLabel);
        bookPanel.add(bookCountValue);
        infoPanel.add(bookPanel);

        // **Staff Count Panel**
        JPanel staffPanel = new JPanel(new GridLayout(2, 1));
        JLabel staffLabel = new JLabel("üë• S·ªë nh√¢n vi√™n", SwingConstants.CENTER);
        staffLabel.setFont(new Font("Tahoma", Font.PLAIN, 16));
        staffCountValue = new JLabel("10", SwingConstants.CENTER);
        staffCountValue.setFont(new Font("Tahoma", Font.PLAIN, 16));
        staffPanel.setBorder(BorderFactory.createLineBorder(Color.BLACK, 1));
        staffPanel.add(staffLabel);
        staffPanel.add(staffCountValue);
        infoPanel.add(staffPanel);

     // **Sold Books Panel**
        JPanel soldBooksPanel = new JPanel(new GridLayout(2, 1));
        JLabel soldBooksLabel = new JLabel("üìñ S·ªë s√°ch ƒë√£ b√°n", SwingConstants.CENTER);
        soldBooksLabel.setFont(new Font("Tahoma", Font.PLAIN, 16));
        soldBooksValue = new JLabel("1,200", SwingConstants.CENTER); // C·∫≠p nh·∫≠t s·ªë th·ª±c t·∫ø
        soldBooksValue.setFont(new Font("Tahoma", Font.PLAIN, 16));
        soldBooksPanel.setBorder(BorderFactory.createLineBorder(Color.BLACK, 1));
        soldBooksPanel.add(soldBooksLabel);
        soldBooksPanel.add(soldBooksValue);
        infoPanel.add(soldBooksPanel);

        // **Revenue Panel**
        JPanel revenuePanel = new JPanel(new GridLayout(2, 1));
        revenuePanel.setPreferredSize(new Dimension(WIDTH, 100));
        JLabel revenueLabel = new JLabel("üí∞ T·ªïng doanh thu", SwingConstants.CENTER);
        revenueLabel.setFont(new Font("Tahoma", Font.PLAIN, 16));
        revenueValue = new JLabel("5.000.000 VNƒê", SwingConstants.CENTER);
        revenueValue.setFont(new Font("Tahoma", Font.PLAIN, 16));
        revenuePanel.setBorder(BorderFactory.createLineBorder(Color.BLACK, 1));
        revenuePanel.add(revenueLabel);
        revenuePanel.add(revenueValue);
        infoPanel.add(revenuePanel);

        // **Chart Panel**
        JPanel chartPanel = new JPanel();
        chartPanel.setBorder(BorderFactory.createEmptyBorder(10, 10, 10, 10));
        chartPanel.setLayout(new BoxLayout(chartPanel, BoxLayout.X_AXIS));

        pieChart = new PieChart();
        columnChart = new ColumnChart();
        columnChart.setValues(new int[] {1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12});
        columnChart.setColumnNames(new String[] {"1", "2", "3", "4", "5", "6", "7", "8", "9", "10", "11", "12"});
        chartPanel.add(pieChart);
        chartPanel.add(columnChart);

        mainContent.add(chartPanel, BorderLayout.CENTER);

        // **Footer**
        JPanel footerPanel = createFooter();
        add(footerPanel, BorderLayout.SOUTH);
    }

    private JPanel createHeader() {
        JPanel headerPanel = new JPanel(new BorderLayout());
        headerPanel.setBackground(new Color(30, 144, 255));
        headerPanel.setPreferredSize(new Dimension(getWidth(), 60));

        JLabel title = new JLabel("üìö H·ªá th·ªëng Qu·∫£n l√Ω B√°n S√°ch", SwingConstants.CENTER);
        title.setForeground(Color.WHITE);
        title.setFont(new Font("Tahoma", Font.BOLD, 18));
        headerPanel.add(title, BorderLayout.CENTER);

        JPanel userPanel = new JPanel(new FlowLayout(FlowLayout.RIGHT, 15, 10));
        userPanel.setOpaque(false);
        userInfo = new JLabel("üë§ Xin ch√†o, Nguy·ªÖn VƒÉn A");
        userInfo.setForeground(Color.WHITE);
        userInfo.setFont(new Font("Tahoma", Font.PLAIN, 20));
        userPanel.add(userInfo);

        headerPanel.add(userPanel, BorderLayout.EAST);
        return headerPanel;
    }

    private JPanel createFooter() {
        JPanel footerPanel = new JPanel(new FlowLayout(FlowLayout.CENTER, 10, 10));
        footerPanel.setPreferredSize(new Dimension(getWidth(), 40));
        footerPanel.setBackground(new Color(70, 70, 70));

        JLabel footerLabel = new JLabel("¬© 2025 H·ªá th·ªëng Qu·∫£n l√Ω B√°n S√°ch - Nh√≥m 8");
        footerLabel.setForeground(Color.WHITE);
        footerPanel.add(footerLabel);

        return footerPanel;
    }

    public JLabel getUserInfo() { return userInfo; }
    public JLabel getBookCountValue() { return bookCountValue; }
    public JLabel getStaffCountValue() { return staffCountValue; }
    public JLabel getSoldBooksValue() { return soldBooksValue; }
    public JLabel getRevenueValue() { return revenueValue; }
    public PieChart getPieChart() { return pieChart; }
    public ColumnChart getColumnChart() { return columnChart; }
}
